---
const {pathname} = Astro.url
---
<div class="fixed top-0 inset-x-0 bg-theme-950/80 h-16 border-b border-brand/20 backdrop-blur z-30">
    <nav class="flex justify-between items-center h-full px-4 max-w-6xl mx-auto">
        <a href="/" class="text-brand text-3xl font-bold">
            <svg width="80" height="40" viewBox="0 0 235 115.06878889117108">
                <g
                   transform="matrix(0.7756765465728752,0,0,0.7756765465728752,-9.289641263208479,21.60995374240321)"
                   class="fill-brand">
                    <path xmlns="http://www.w3.org/2000/svg"
                          d="M55.739,48.002c-0.297-0.289-0.771-0.283-1.061,0.013l-9.307,9.529l9.307,9.53c0.146,0.15,0.341,0.226,0.536,0.226  c0.189,0,0.378-0.071,0.524-0.213c0.296-0.29,0.302-0.764,0.012-1.061l-8.283-8.482l8.283-8.481  C56.041,48.767,56.035,48.292,55.739,48.002z"></path>
                    <path xmlns="http://www.w3.org/2000/svg"
                          d="M69.011,48.015c-0.288-0.296-0.763-0.302-1.061-0.013c-0.296,0.29-0.302,0.765-0.012,1.061l8.285,8.481l-8.285,8.482  c-0.29,0.296-0.284,0.771,0.012,1.061c0.146,0.143,0.335,0.213,0.524,0.213c0.194,0,0.39-0.076,0.536-0.226l9.311-9.53  L69.011,48.015z"></path>
                    <path xmlns="http://www.w3.org/2000/svg"
                          d="M65.095,48.07c-0.261-0.096-0.547,0.036-0.643,0.295l-6.741,18.219c-0.096,0.259,0.036,0.546,0.295,0.642  c0.058,0.021,0.116,0.031,0.174,0.031c0.203,0,0.395-0.125,0.469-0.327l6.741-18.219C65.485,48.454,65.354,48.166,65.095,48.07z"></path>
                    <path xmlns="http://www.w3.org/2000/svg"
                          d="M86.749,26.575H44.48l-0.897-3.086c-0.478-1.565-1.334-2.359-2.545-2.359H21.095c-1.422,0-2.579,1.157-2.579,2.579v15.866  h1.5V23.708c0-0.595,0.484-1.079,1.079-1.079h19.943c0.231,0,0.714,0,1.108,1.288l1.052,3.617c0.093,0.32,0.386,0.541,0.72,0.541  h42.831c0.595,0,1.079,0.484,1.079,1.078v32.659l-2.427-23.414c-0.009-0.087-0.033-0.172-0.071-0.25  c-0.154-0.318-0.367-0.615-0.613-0.858c-0.508-0.502-1.154-0.774-1.88-0.786l-43.187-0.02c-0.334,0-0.627,0.22-0.721,0.541  l-0.855,2.947c-0.542,1.755-1.396,1.958-1.991,1.958l-23.357,0.03c-0.214,0-0.417,0.092-0.56,0.252  c-0.143,0.16-0.209,0.373-0.185,0.585l3.918,33.526c0,1.422,1.157,2.579,2.579,2.579h68.271c1.422,0,2.579-1.157,2.575-2.656  l-0.113-1.09h0.117V29.153C89.328,27.732,88.171,26.575,86.749,26.575z M86.749,77.403H18.479c-0.595,0-1.079-0.484-1.084-1.166  L13.569,43.46l22.515-0.029c1.137,0,2.654-0.523,3.428-3.028l0.702-2.418l42.611,0.02c0.329,0.005,0.603,0.12,0.838,0.353  c0.098,0.097,0.188,0.214,0.261,0.34l3.904,37.627C87.828,76.919,87.344,77.403,86.749,77.403z"></path>
                </g>
                <g
                   transform="matrix(6.05438936146036,0,0,6.05438936146036,78.82452296678875,-28.17806247715454)"
                   class="fill-brand">
                    <path d="M7.54 20 l-3.2 -4.06 c-0.08 0.08 -0.22 0.18 -0.34 0.28 l0 3.78 l-2.98 0 l0 -14.52 l2.98 0 l0 7.12 l2.84 -2.48 l4.42 0 l-4.78 4 c1.46 1.8 3.38 4.14 4.78 5.88 l-3.72 0 z M15.747708333333332 7.279999999999999 c0 0.84 -0.68 1.5 -1.56 1.5 s-1.58 -0.66 -1.58 -1.5 c0 -0.82 0.7 -1.46 1.58 -1.46 s1.56 0.64 1.56 1.46 z M10.12770833333333 23.06 l0 -2.68 c0.48 0.32 0.64 0.48 1.46 0.48 c0.34 0 1.08 -0.2 1.08 -1.58 l0 -9.16 l2.96 0 l0 9.16 c0 3.2 -1.1 4.38 -2.98 4.38 c-1.08 0 -1.16 0 -2.52 -0.6 z M19.715416666666663 13.04 l-2.2 -1.26 c1.1 -1.24 2.58 -1.82 4.12 -1.82 c2.96 0 4.16 1.62 4.16 3.14 l0 6.9 l-2.96 0 l0 -0.7 c-0.46 0.48 -1.28 0.84 -2.2 0.84 c-2.7 0 -3.74 -1.2 -3.74 -3.04 c0 -2.08 1.68 -3.48 4.4 -3.48 l1.54 0 c0 -0.74 -0.56 -1.22 -1.4 -1.22 c-0.86 0 -1.28 0.16 -1.72 0.64 z M22.835416666666664 16.740000000000002 l0 -0.88 l-1.74 0 c-0.78 0 -1.36 0.54 -1.24 1.3 c0.08 0.54 0.56 0.76 1.24 0.76 c1.3 0 1.74 -0.74 1.74 -1.18 z"></path>
                </g>
            </svg>
        </a>
        <button aria-label="open menu" type="button" id="navigation-menu-button"
                class="flex flex-col justify-center items-end w-10 h-10 gap-y-1 px-2 sm:hidden">
            <span class="bg-theme-200 h-0.5 rounded w-2/3"/>
            <span class="bg-theme-200 h-0.5 rounded w-full"/>
            <span class="bg-theme-200 h-0.5 rounded w-1/3"/>
        </button>

        <ul class="sm:hidden text-theme-400 pointer-events-none transition-opacity opacity-0 divide-y divide-theme-800 font-bold px-4 absolute top-20 inset-x-4 border border-theme-800 rounded-2xl py-6 backdrop-blur bg-theme-950/80 text-large z-50"
            id="navigation-menu">
            <li>
                <a href="/" class:list={["text-lg p-5 inline-block", {"text-theme-200": pathname === '/'}]}>Home</a>
            </li>
            <li>
                <a href="/about" class:list={["text-lg p-5 inline-block", {"text-theme-200": pathname === '/about'}]}>About</a>
            </li>
            <li>
                <a href="/projects"
                   class:list={["text-lg p-5 inline-block", {"text-theme-200": pathname === '/projects'}]}>Projects</a>
            </li>
            <li>
                <a href="/contact"
                   class:list={["text-lg p-5 inline-block", {"text-theme-200": pathname === '/contact'}]}>Contact</a>
            </li>
        </ul>

        <ul class="text-theme-400 font-medium hidden sm:flex" aria-hidden="true">
            <li>
                <a href="/" class:list={["inline-block px-3 py-2", {"text-theme-200": pathname === '/'}]}>Home</a>
            </li>
            <li>
                <a href="/about" class:list={["inline-block px-3 py-2", {"text-theme-200": pathname === '/about'}]}>About</a>
            </li>
            <li>
                <a href="/projects"
                   class:list={["inline-block px-3 py-2", {"text-theme-200": pathname === '/projects'}]}>Projects</a>
            </li>
            <li>
                <a href="/contact" class:list={["inline-block px-3 py-2", {"text-theme-200": pathname === '/contact'}]}>Contact</a>
            </li>
        </ul>

        <div id="navigation-backdrop"
             class="absolute inset-x-0 top-16 bg-theme-950/80 h-screen opacity-0 transition-opacity -z-10 pointer-events-none backdrop-blur"/>


    </nav>
</div>

<script>
    document.addEventListener('astro:page-load', () => {

        const navigationMenuButton = document.getElementById('navigation-menu-button')
        const navigationMenu = document.getElementById('navigation-menu')
        const navigationBackdrop = document.getElementById('navigation-backdrop')

        const handleMenuToggle = () => {
            navigationBackdrop.classList.toggle('opacity-0')
            navigationBackdrop.classList.toggle('pointer-events-none')
            navigationMenu.classList.toggle('opacity-0')
            navigationMenu.classList.toggle('pointer-events-none')
            document.body.classList.toggle('overflow-hidden')
        }

        navigationMenuButton.addEventListener('click', handleMenuToggle)
        navigationBackdrop.addEventListener('click', handleMenuToggle)
    })
</script>