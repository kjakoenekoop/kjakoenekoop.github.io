---
import data from "./experience.json"
import Guides from "@components/Guides.astro";

type ExperienceDate = { from: string, to: string }

const experiences: Record<string, {
    responsibilities: string,
    skills: string[],
    date: ExperienceDate
}> = data
---
<section class="relative grid gap-y-8 px-4 max-w-6xl mx-auto pb-40">
    <header class="grid gap-y-6 px-4">
        <h2 class="text-brand font-bold tracking-wide">My Work History</h2>
        <h1 class="text-theme-200 font-bold text-3xl tracking-tight">Professional Experience</h1>
    </header>
    <ul class="px-4 grid gap-y-8">
        {Object.entries(experiences).map(([experience, {responsibilities, skills, date}]) => (
                <li class="grid gap-y-2 text-theme-400 sm:grid-cols-[1fr,2fr] sm:gap-x-4">
                    <span class="text-theme-500 sm:text-right sm:pr-4">{date.from} — {date.to}</span>
                    <h3 class="text-theme-200 font-medium sm:col-start-2">{experience}</h3>
                    <p class="max-w-prose sm:col-start-2">{responsibilities}</p>
                    <span class="text-theme-200 sm:col-start-2">Key skills gained:</span>
                    <ul class="sm:col-start-2">
                        {skills.map(skill => (
                                <li class="before:content-['•'] before:text-brand">&nbsp;&nbsp;{skill}</li>))}
                    </ul>
                </li>))}
    </ul>
    <Guides end={true}/>
</section>